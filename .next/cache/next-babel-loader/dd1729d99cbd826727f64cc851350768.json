{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nvar _jsxFileName = \"/home/admin/WebstormProjects/item-grab/pages/[letter]/[pgno].js\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/MyLayout';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React from \"react\";\nimport Table from \"react-bootstrap/Table\";\nimport Pagination from \"react-bootstrap/Pagination\";\nimport tableLinks from \"../../css/TableTheme\"; // Run with npm run dev\n\nvar Index = function Index(props) {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, __jsx(Table, {\n    variant: \"dark\",\n    size: \"sm\",\n    striped: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, __jsx(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Items + \", props.letter.valueOf()))), __jsx(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, props.items.map(function (item) {\n    return __jsx(\"tr\", {\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/pg/[id]\",\n      as: \"/pg/\".concat(item.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      style: tableLinks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, item.name))));\n  }))), __jsx(Pagination, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(Pagination.Prev, {\n    href: props.prevpg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), __jsx(Pagination.Next, {\n    href: props.nextpg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })));\n};\n\nIndex.getInitialProps = function _callee(context) {\n  var perapi, webnav, letter, pgno, res, data, subone, plusone;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          perapi = 'http://172.30.30.117:8000/';\n          webnav = 'http://172.30.30.117:3000/';\n          letter = context.query.letter;\n          pgno = context.query.pgno;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(fetch(perapi + letter + '/' + pgno));\n\n        case 6:\n          res = _context.sent;\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 9:\n          data = _context.sent;\n          // Logic to create a next page to use in the pagination tabs\n          subone = webnav + letter + '/' + (_parseInt(pgno) - 1);\n          plusone = webnav + letter + '/' + (_parseInt(pgno) + 1);\n          console.log(\"Data from personal api: \".concat(data.items.map(function (entry) {\n            return entry.name + \" \" + entry.id;\n          })));\n          console.log(\"Data from plusone and subone: \" + plusone + \" \" + subone);\n          return _context.abrupt(\"return\", {\n            items: data.items.map(function (entry) {\n              return entry;\n            }),\n            letter: letter,\n            pgno: pgno,\n            nextpg: plusone,\n            prevpg: subone\n          });\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Index;","map":{"version":3,"sources":["/home/admin/WebstormProjects/item-grab/pages/[letter]/[pgno].js"],"names":["Layout","Link","fetch","React","Table","Pagination","tableLinks","Index","props","letter","valueOf","items","map","item","id","name","prevpg","nextpg","getInitialProps","context","perapi","webnav","query","pgno","res","json","data","subone","plusone","console","log","entry"],"mappings":"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","sourcesContent":["import Layout from '../../components/MyLayout';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React from \"react\";\nimport Table from \"react-bootstrap/Table\";\nimport Pagination from \"react-bootstrap/Pagination\";\n\nimport tableLinks from \"../../css/TableTheme\";\n\n// Run with npm run dev\n\nconst Index = props => (\n    <Layout>\n        <Table variant=\"dark\" size=\"sm\" striped>\n            <thead>\n            <tr>\n                <th>Items + {props.letter.valueOf()}</th>\n            </tr>\n            </thead>\n            <tbody>\n            {props.items.map( item => (\n                <tr key={item.id}>\n                    <td>\n                        <Link href=\"/pg/[id]\" as={`/pg/${item.id}`}>\n                            <a style={tableLinks}>{item.name}</a>\n                        </Link>\n                    </td>\n                </tr>\n            ))}\n            </tbody>\n        </Table>\n        <Pagination>\n            <Pagination.Prev href={props.prevpg}/>\n            <Pagination.Next href={props.nextpg}/>\n        </Pagination>\n    </Layout>\n\n);\n\nIndex.getInitialProps = async function(context) {\n    const perapi = 'http://172.30.30.117:8000/'\n    const webnav = 'http://172.30.30.117:3000/'\n    const { letter } = context.query;\n    const { pgno } = context.query;\n\n    const res = await fetch(perapi + letter + '/' + pgno)\n    const data = await res.json();\n\n    // Logic to create a next page to use in the pagination tabs\n    let subone = webnav + letter + '/' + (parseInt(pgno)-1)\n    let plusone = webnav + letter + '/' + (parseInt(pgno)+1)\n\n    console.log(`Data from personal api: ${data.items.map(entry => entry.name + \" \" + entry.id)}`)\n    console.log(`Data from plusone and subone: ` + plusone + \" \" + subone)\n\n\n    return {\n        items: data.items.map(entry => entry),\n        letter: letter,\n        pgno: pgno,\n        nextpg : plusone,\n        prevpg : subone\n    };\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}