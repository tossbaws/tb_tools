{"ast":null,"code":"var __jsx = React.createElement;\nimport Layout from '../../components/MyLayout';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React from \"react\";\nimport Table from \"react-bootstrap/Table\";\nimport Pagination from \"react-bootstrap/Pagination\";\nimport tableLinks from \"../../css/TableTheme\"; // Run with npm run dev\n\nconst Index = props => __jsx(Layout, null, __jsx(Table, {\n  variant: \"dark\",\n  size: \"sm\",\n  striped: true\n}, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Items + \", props.letter.valueOf()))), __jsx(\"tbody\", null, props.items.map(item => __jsx(\"tr\", {\n  key: item.id\n}, __jsx(\"td\", null, __jsx(Link, {\n  href: \"/pg/[id]\",\n  as: `/pg/${item.id}`\n}, __jsx(\"a\", {\n  style: tableLinks\n}, item.name))))))), __jsx(Pagination, null, __jsx(Pagination.Prev, {\n  href: props.prevpg\n}), __jsx(Pagination.Next, {\n  href: props.nextpg\n})));\n\nIndex.getInitialProps = async function (context) {\n  const perapi = 'http://172.30.30.117:8000/';\n  const webnav = 'http://172.30.30.117:3000/';\n  const {\n    letter\n  } = context.query;\n  const {\n    pgno\n  } = context.query;\n  const res = await fetch(perapi + letter + '/' + pgno);\n  const data = await res.json(); // Logic to create a next page to use in the pagination tabs\n\n  let subone = webnav + letter + '/' + (parseInt(pgno) - 1);\n  let plusone = webnav + letter + '/' + (parseInt(pgno) + 1);\n  console.log(`Data from personal api: ${data.items.map(entry => entry.name + \" \" + entry.id)}`);\n  console.log(`Data from plusone and subone: ` + plusone + \" \" + subone);\n  return {\n    items: data.items.map(entry => entry),\n    letter: letter,\n    pgno: pgno,\n    nextpg: plusone,\n    prevpg: subone\n  };\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}